## 很久前就写过一篇 vim 的入门级使用手册

今天和我老大说起为什么有的人编程可以不用方向键的事儿。突然发现，诶，我好像也很少用到方向键。尤其是在使用 vim 或者类似的 editor 的时候。

这里不如就简单的介绍一下 vim 好了。

按照国际惯例，开始学习 vim 前要给初学者一些忠告:

- vim 是一个越学越让人喜欢的玩具
- vim 初学的时候非常痛苦，你会觉得这是个弱智才会用的东西
- 它当然更像是玩具，也可以在长时间的打磨后成为你编程的利器
- 当你开发依赖多，目录结构复杂的时候，建议跟随团队用统一的 IDE 
- 学习它，为熟练使用它进行练习，你不会后悔

--------------------------------------------------------------

### 如何获取 vim 
[百度搜索：如何安装 vim](https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&rsv_idx=1&tn=baidu&wd=%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85%20vim&oq=%25E5%25A6%2582%25E4%25BD%2595%25E5%25AE%2589%25E8%25A3%2585%2520vmi&rsv_pq=cfa9df6000001a12&rsv_t=1301DRfByZnNswH%2BEXGM5yD4QV7gc3m32Zy4X6r66kz2WbnKoWyBg2DPTEk&rqlang=cn&rsv_enter=1&rsv_sug3=5&rsv_sug1=5&rsv_sug7=100&rsv_sug2=0&inputT=1051&rsv_sug4=1922)

### vim 的优点

女孩子小时候会喜欢给自己小芭比换衣服，vim 就是男人（编程民工）的芭比娃娃，自定义程度非常高，并且本身架子够硬，你能给它换上非常多的衣服，甚至干很多奇奇怪怪的事。优点是好玩儿，并且也在熟练使用之后也会很好用。

当你想随便写点啥的时候，比如一个 demo ，一篇日记，一份笔记乃至临时发现项目里有什么 bug 临时要改改你用 terminal + vim 做起这个事情就会特别快。

### vim 的缺点。

~~EMACS 神教的教徒不喜欢 vim~~

当你把它当成玩具，它就没啥缺点，当成主力开发工具，那需要你自身够硬，猛男才能把 vim 当成主力开发工具。

### 三种模式

在命令行中使用 $ vim [filename] 即可打开 vim 编辑器

vim 编辑器有三种操作模式：编辑模式、插入模式和命令模式

#### 命令模式

mac 中你打开 vim 后默认是在插入模式，在插入模式下，输入":"，你就可以看到左下角有个":"，这个时候你就进入了命令模式，输入你想输入的命令，再回车就完成了一条命令。需要特别提示的事，你需要**检查你的输入法**，汉语输入法是不能输入命令的。

下面介绍一些命令：

##### 文件相关的命令

- 在Vim中打开一个文件 :e path_to_file/filename
- 保存文件 :w
- 另存为 :w file_temp
- 退出不保存 :q
- 强制退出不保存 :q!
- 保存并退出 :wq
- 移动光标到指定行 :n
- 移动命令组合技
  :50w file 把第五十行写入 file 文件
  :3,5w file 把第三行到第五行之间写入 file 文件
  :1,.w file 把第一行到当前行写入 file 文件
  :.,$w file 把当前行到最后一行写入 file 文件
  :.,.+5w file 把当前行开始的**六**行写入 file 文件
  :r file 读取 file 文件的内容，将其插入当前光标所在行的后面
  :e file 编辑 file 文件，并替换原有内容
  :f file 把当前文件重新命名为 file
  :f 查看当前文件名称和状态
  
##### 搜索（非常关键）

- :/str/ 跳到下一个包含 str 的行
- :?str? 跳到上一个包含 str 的行
- 搜索还可以和正则表达式配合使用 如：找下一个行首出现了 class 的行可以 :/^class/ 其他的正则自行探索

##### 替换文本

- :%s/str1/str2/ 用 str2 替换本行中首次出现的 str1
- :s/str1/str2/g 用 str2 替换本行中所有出现的 str1
- :.,% s/str1/str2/g 你猜这是啥意思，猜对了你就能应对大多数替换需求了

##### 删除正文

- :d 删除当前行
- :3d 删除以下三行
- :.,$d 当前行当文末全删了
- :/str1/,/str2/d 你心里觉得它是啥意思就是啥意思

##### 恢复文件（这也是 vim 的一个优点啦）

Vim 在编辑某个文件时，会另外生成一个临时文件，这个文件的名称通常以 . 开头，并以 .swp 结尾。Vim 在正常退出时，该文件被删除，若意外退出，而没有保存文件的最新修改内容，则可以使用恢复命令 :recover 来恢复文件，也可以在启动Vim时用 -r 选项。

##### 一些别的命令

- :set option 设置 option ，比如设置行号显示就是 :set number
- :!shell_command 你需要暂时退出vim去执行一条命令，执行完之后又回到目前状态
- :split (也可以写缩写:sp) 上下分屏，你现在可以再一个命令行窗口里跑两个 vim 编辑器了
- :vsplit (:vsp) 同上，不过是左右分屏

#### 编辑模式

有人看到了上面的命令模式介绍，心里可能会想：我日你哥，这么多，怎么记得完，溜了溜了。对此我想说两个事
1. 你以为只有这上面这些？其实还多得很
2. 其实你用的最多的只有 :wq :n :!shell_command 对我而言，超过百分之九十五都是这几个命令。vim 作为一个工具，要用是非常简单的，别被自己吓倒了。

下面介绍一下编辑模式，这里的常用命令会多一些，多多少呢，真正常用的会比3个再多几个吧。。。

- k 上
- j 下
- h 左
- l 右
- ctr + f 前一页
- ctr + b 后一页
- \* 跳到下一个你光标指着的单词
- \# 跳到上一个你光标指着的单词
- g_跳到行末
- NG 到第 N 行开头
- /str1 搜索 str1 
- n 跳到下一个 str1 出现的地方
- N 上一个不解释了
- ?str2 反向搜 str2
- fa 到下一个是 a 的地方
- gg 到文件第一行
- G 最后一行开始起始点
- H 到当前屏幕的第一行
- L 到当前屏幕的最后一行
- M 到当前屏幕的中间
- w 到下一个word的开头
- e 到下一个word的末尾
- $ 到行尾
- 0 到行头
- u 撤销前一条命令
- . 重复最后一条修改命令

编辑模式的命令其实是很多的，但是我从我的经验讲，也就是翻页，跳到多少多少行，到行头，到行尾，到下一个word，然后重复重复重复，偶尔按错了撤销，真正用起来并不复杂

#### 插入模式

在编辑模式中确定了光标之后，就可以开始写内容了

- i 在光标左侧开始写正文
- a 在右侧
- o 在下一行添加新行写正文
- O 在上一行
- I 在行头写
- A 在行尾写

### 写在最后

vim 这个东西，你从不会用到会用，会见识到新世界，从会用到越用越好，你会觉得很爽，你越来越快，vim 插件越来越多，界面越来越骚，脑袋越来越秃，也变得越来越强。愿一个出色的编辑器，能在出色的你的手中写下属于未来的代码。

### 最后的最后

1. 我老大不知道，其实就算是没有上下左右键的键盘，如果通过组合键，也可以使用上下左右。只是你编辑器用的越熟练，在写代码的时候就越不需要鼠标键盘。
2. vim 影响力可以说是非常巨大，很多的别的编辑器中（什么vscode啊 sublime啊 包括大一点的 ide ），都能使用 vim 的快捷键，甚至专门有使用 vim 模式的选项。
3. vim 的自定义插件才是它经久不衰的关键，你会发现这么多年来，有好多的前辈在 vim 中留下了各种奇奇怪怪的东西，休息的时候搞一搞，就像是在看一本故事书，往前看看别人都瞎搞了些什么，也是一种非常难得的乐趣。














